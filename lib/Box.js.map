{"version":3,"sources":["../src/Box.js"],"names":["Box","renderOrElement","isElement","render","element","mount","scene","paths","x","y","z","offsetX","offsetY","show_","i","include","path","ctx","isPointInPath","_reverseOffset","realX","realY","_reversePos","zoom","width","height","parseInt","css","e"],"mappings":"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","file":"Box.js","sourcesContent":["import _ from 'lodash';\r\n\r\nexport default class Box{\r\n    constructor(renderOrElement){\r\n        if(typeof renderOrElement == 'function'){\r\n            this.isElement = false;\r\n            this.render = renderOrElement;\r\n        } else {\r\n            this.isElement = true;\r\n            this.element = renderOrElement;\r\n        }\r\n        this.mount = false;\r\n        this.scene = null;\r\n        this.paths = [];\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n        this.offsetX = 0;\r\n        this.offsetY = 0;\r\n        this.show_ = true;\r\n    }\r\n\r\n    _include(x, y){\r\n        if(!this.show_){\r\n            return false;\r\n        }\r\n        if(this.mount){\r\n            for(var i in this.paths){\r\n                let [include, path] = this.paths[i];\r\n                if(this.scene.ctx.isPointInPath(path, x, y)){\r\n                    return include;\r\n                }\r\n            }\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    _removePosition(){\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n    }\r\n\r\n    setPosition(x, y, z = 0){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        if(this.mount){\r\n            [this.offsetX, this.offsetY] = this.scene._reverseOffset(x, y);\r\n        }\r\n    }\r\n\r\n    setAbsPosition(realX, realY, z = 0){\r\n        if(this.mount){\r\n            [this.x, this.y] = this.scene._reversePos(realX, realY);\r\n            [this.offsetX, this.offsetY] = [realX - this.x, realY - this.y];\r\n        } else {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        this.z = z;\r\n    }\r\n\r\n    absX(){\r\n        return this.x + this.offsetX;\r\n    }\r\n\r\n    absY(){\r\n        return this.y + this.offsetY;\r\n    }\r\n\r\n    show(){\r\n        this.show_ = true;\r\n        if(this.mount){\r\n            this.scene.render();\r\n        }\r\n    }\r\n\r\n    hide(){\r\n        this.show_ = false;\r\n        if(this.mount){\r\n            this.scene.render();\r\n        }\r\n    }\r\n\r\n    // if isElement = true\r\n\r\n    elementWidth(){\r\n        if(this.isElement){\r\n            let zoom = 1;\r\n            if(this.mount){\r\n                zoom = this.scene.zoom;\r\n            }\r\n            return this.element.width() / this.scene.zoom;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    elementHeight(){\r\n        if(this.isElement){\r\n            let zoom = 1;\r\n            if(this.mount){\r\n                zoom = this.scene.zoom;\r\n            }\r\n            return this.element.height() / this.scene.zoom;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    elementMarginTop(){\r\n        if(this.isElement){\r\n            let zoom = 1;\r\n            if(this.mount){\r\n                zoom = this.scene.zoom;\r\n            }\r\n            return parseInt(this.element.css('margin-top')) / this.scene.zoom;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    elementMarginRight(){\r\n        if(this.isElement){\r\n            let zoom = 1;\r\n            if(this.mount){\r\n                zoom = this.scene.zoom;\r\n            }\r\n            return parseInt(this.element.css('margin-right')) / this.scene.zoom;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    elementMarginBottom(){\r\n        if(this.isElement){\r\n            let zoom = 1;\r\n            if(this.mount){\r\n                zoom = this.scene.zoom;\r\n            }\r\n            return parseInt(this.element.css('margin-bottom')) / this.scene.zoom;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    elementMarginLeft(){\r\n        if(this.isElement){\r\n            let zoom = 1;\r\n            if(this.mount){\r\n                zoom = this.scene.zoom;\r\n            }\r\n            return parseInt(this.element.css('margin-left')) / this.scene.zoom;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    // events\r\n\r\n    onMouseUp(e, x, y){\r\n        // override it\r\n    }\r\n\r\n    onMouseDown(e, x, y){\r\n        // override it\r\n    }\r\n\r\n    onMouseOver(e, x, y){\r\n        // override it\r\n    }\r\n\r\n    onMouseOut(e, x, y){\r\n        // override it\r\n    }\r\n\r\n    // touch events\r\n\r\n    onTouchStart(e, x, y){\r\n        // override it\r\n    }\r\n\r\n    onTouchEnd(e, x, y){\r\n        // override it\r\n    }\r\n\r\n    onTouchEnter(e, x, y){\r\n        // override it\r\n    }\r\n\r\n    onTouchLeave(e, x, y){\r\n        // override it\r\n    }\r\n\r\n}"]}